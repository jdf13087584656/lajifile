<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xlkj.website.mapper.CargoMapper">

    <!--货物新增 -->
    <insert id="addCargo" useGeneratedKeys="true" keyProperty="cid" keyColumn="cid"
            parameterType="com.xlkj.website.model.CargoDto" >
		INSERT INTO lp_cargo (
          cid,
          cargo_name,
          cargo_price,
          is_deleted
		)
		VALUES
		(
		  #{cid},
		  #{cargo_name},
		  #{cargo_price},
		  0
		);
	</insert>

    <!-- 货物修改 -->
    <update id="modifyCargo" parameterType="com.xlkj.website.model.CargoDto">
        UPDATE lp_cargo
        <set>
            <if test="null != cargoName and '' != cargoName">
                cargo_name = #{cargoName},
            </if>
            <if test="null != cargoPrice and '' != cargoPrice">
                cargo_price = #{cargoPrice},
            </if>
            <if test="null != isDeleted and '' != isDeleted">
                is_deleted = #{isDeleted},
            </if>
        </set>
        WHERE
        cid = #{cid};
    </update>

    <!--货物列表 -->
    <select id="listCargo" parameterType="java.lang.Integer" resultType="com.xlkj.website.model.CargoDto">
        select
        lpc.cid as cid,
        lpc.cargo_name as cargoName,
        lpc.cargo_price as cargoPrice,
        lpc.is_deleted as isDeleted
        from lp_cargo lpc
        where lpc.is_deleted=0
    </select>










</mapper>